vue3_ts语法
[toc]

# 变量定义(习惯C#)
- 文件命名
  大写开头
- 使用第三方包
  可以使用别名以符合C#习惯
  但是有的第三方包导出的类型、方法等也很混乱，看情况吧
- ts文件
  接口、类、方法： 大写开头
  导出实例：大写开头
  内部变量：下划线开头
  方法内变量：小写开头
- ts脚本
  接口、类、方法： 大写开头
  内部变量：下划线开头
  方法内变量：小写开头

# 变量定义
const a = '' //普通定义
const b = ref(0) //响应式变量 自动推到类型
const c = ref('')
const clasca = ref<ClassA>() //响应式变量 定义了类型
const clasca = ref<ClassA | null>(null)

# 导出
- 某ts文件默认导出
export default AxiosInstance //导出axios实例

- 导出接口、类 等类型
export interface App{
    AppId: number,
    AppName: string
}

- 导出对象实例
export const AxiosInstance = Axios.create({
    baseURL: 'https://localhost:7060',  
    timeout: 100000
})

- 导出方法
const _urlSystemInit = '/api/Authentication/SystemInit'
export async function SystemInit(request: RequestModels.SystemInitRequest) {
    return await PostApi<RequestModels.SystemInitRequest, number>(_urlSystemInit, request)
}

# 导入
- 导入 默认导出
  import Axios from "axios";

- 导入某个类型
  import type { AxiosResponse } from "axios";

- 导入某个ts文件所有类型
  import type * as RequestModels from "@/models/Request"
  使用：RequestModels.某个具体类型    RequestModels是起了一个别名
    

# 导入时起别名: as 别名
import { createRouter as CreateRouter, createWebHistory as CreateWebHistory  } from 'vue-router'
import type * as RequestModels from "@/models/Request"

# 接口、类
export interface App{
    AppId: number,
    AppName: string
}

export interface AppNameSpace{
    NsId: number,
    NsName: string,
    AppId?: number | null,
    InheritNsId?: number | null,
    InheritNsName?: string | null
}

 AppId?: number | null
 ?代表可选字段， | null 代表可以为null

貌似不能一个接口或类 定义成一个ts文件，这样在导入时并不能跟C#一样用命名空间一次性导入
尽量写在一个ts文件里，导入时起别名一次性导入
import type * as RequestModels from "@/models/Request"

# 方法
export function Loading(text: string = '请稍后......'){
    _loading.value = ElLoading.service({
        fullscreen: true,
        text: text
    })
}

//泛型
export async function PostApi<TReuqest,TResponse>(url: string, request:TReuqest) {
  const rr = await AxiosInstance.post<TReuqest, AxiosResponse<RrInterface<TResponse>>>(url, request);
  return rr.data;
}

const _urlAlterUserCode = '/api/Authentication/AlterUserCode'
export async function AlterUserCode(request: RequestModels.AlterUserCodeRequest) {
    return await PostApi<RequestModels.AlterUserCodeRequest, number>(_urlAlterUserCode, request);
}